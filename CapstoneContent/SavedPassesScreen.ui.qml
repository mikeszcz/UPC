import QtMultimedia
import QtQuick
import QtQuick.Controls

//Need this the be scrollable and be infinitly long for as many
//passes that are generated by the user
//Should there be a pass limit?
//Combine a gridview with a flickable
//use a list model for the gridview for now, later will hook up with C++ model
//Use the clip property
Rectangle {
    id: savedPassScreen
    color: "#d9d9d9"

    signal back
    signal openPreview

    GridView {
        id: gridView
        anchors.fill: parent
        cellWidth: 170
        cellHeight: 180
        model: 11

        header: Item {
            height: 100
            width: parent.width
            Column {
                id: headerColumn
                x: 25
                y: 15
                Text {
                    y: backButton.y + 30
                    width: parent.width * 0.6
                    height: width / 6
                    color: "#000000"

                    text: qsTr("Saved Passes")
                    horizontalAlignment: Text.AlignLeft
                    verticalAlignment: Text.AlignHCenter

                    font.weight: Font.Bold
                    font.pointSize: 18
                    font.family: "Geist"
                }

                Button {
                    id: backButton
                    y: 15
                    text: qsTr("< Back")
                    width: 70
                    height: width / 3
                    checkable: false

                    background: Rectangle {
                        color: "#d9d9d9"
                    }

                    contentItem: Text {
                        font.family: "Geist"
                        font.pointSize: 12
                        text: backButton.text
                        color: "black"
                        horizontalAlignment: Text.AlignLeft
                        verticalAlignment: Text.AlignVCenter
                    }

                    Connections {
                        target: backButton
                        function onClicked() {
                            savedPassScreen.back()
                        }
                    }
                }
            }
        }

        footer: Item {
            width: parent.width
            height: (parent.width * 0.3) / 4
            Text {
                id: copyright
                width: parent.width
                height: parent.height
                color: "#898989"

                text: qsTr("Â© 2025 EECS 497 Group 11")
                horizontalAlignment: Text.AlignHCenter
                verticalAlignment: Text.AlignVCenter
                font.weight: Font.Normal
                font.pointSize: 6
                font.family: "Geist"
            }
        }

        // Ideally when clicking the delegate button, this will bring you to the preview for the pass
        // onClicked does not mesh well with the grid view
        delegate: Item {
            Column {
                x: 25
                Button {
                    id: delegateButton
                    width: 140
                    height: 158
                    background: Rectangle {
                        anchors.fill: parent
                        color: savedPassScreen.color
                        radius: 5
                        border.color: "black"
                        border.width: 1
                    }

                    Connections {
                        target: delegateButton
                        function onClicked() {
                            savedPassScreen.openPreview()
                        }
                    }
                }
            }
        }
    }
}
